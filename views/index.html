<!DOCTYPE html>
<html lang="de" class="h-full text-white">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WF-TECH Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --background-color: #0A0A10;
            --tile-bg: rgba(20, 20, 35, 0.4);
            --tile-hover-bg: rgba(30, 30, 50, 0.6);
            --border-color: rgba(255, 255, 255, 0.1);
            --accent-purple: #a855f7;
            --accent-blue: #3b82f6;
        }
        body { font-family: 'Inter', sans-serif; background-color: var(--background-color); -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; overflow: hidden; }
        #background-animation { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background: linear-gradient(315deg, rgba(168, 85, 247, 0.1), transparent 40%), linear-gradient(45deg, rgba(59, 130, 246, 0.1), transparent 40%), var(--background-color); animation: moveGradient 20s linear infinite; }
        @keyframes moveGradient { 0% { background-position: 0% 0%; } 50% { background-position: 100% 100%; } 100% { background-position: 0% 0%; } }
        .content-wrapper { position: relative; z-index: 1; overflow-y: auto; height: 100vh; scroll-behavior: smooth; }
        .accent-gradient-text { background: linear-gradient(90deg, var(--accent-blue), var(--accent-purple)); -webkit-background-clip: text; background-clip: text; color: transparent; }
        .widget, .tile { background: var(--tile-bg); backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px); border: 1px solid var(--border-color); transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); }
        .widget:hover, .tile:hover { background: var(--tile-hover-bg); transform: translateY(-8px) scale(1.03); box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3); border-color: var(--accent-purple); }
        .tile-icon { transition: all 0.3s ease; }
        .tile:hover .tile-icon { transform: scale(1.1); color: #c084fc; }
        .fade-in-up { animation: fadeInUp 0.8s ease-in-out; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        .action-btn { background: linear-gradient(90deg, var(--accent-blue), var(--accent-purple)); transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); }
        .action-btn:hover { transform: scale(1.05); box-shadow: 0 6px 20px rgba(139, 92, 246, 0.4); }
        .logo { font-weight: 700; font-size: 1.5rem; letter-spacing: 1px; background: linear-gradient(90deg, #e0e0e0, #a0a0a0); -webkit-background-clip: text; background-clip: text; color: transparent; }
        .input-field { background: rgba(0,0,0,0.3); border: 1px solid var(--border-color); border-radius: 0.5rem; padding: 0.75rem; color: white; transition: border-color 0.3s; }
        .input-field:focus { outline: none; border-color: var(--accent-blue); }
        .todo-item { display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem 0; }
        .todo-item input:checked + label { text-decoration: line-through; color: #6b7280; }
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); backdrop-filter: blur(5px); z-index: 40; display: flex; align-items: center; justify-content: center; }
        .modal-content { background: #111827; padding: 2rem; border-radius: 1rem; border: 1px solid var(--border-color); width: 90%; max-width: 500px; }
    </style>
</head>
<body class="h-full">
    <div id="background-animation"></div>
    <div id="app" class="content-wrapper p-4 sm:p-6 lg:p-8 flex flex-col fade-in-up">
        
        <header class="mb-8 flex flex-col sm:flex-row justify-between items-center gap-6 w-full">
            <div class="logo">WF-TECH</div>
            <div class="text-center sm:text-right">
                <h1 id="time" class="text-5xl font-bold accent-gradient-text">10:30</h1>
                <p id="date" class="text-lg text-gray-400">Sonntag, 29. Juni 2025</p>
                <p id="calendar-week" class="text-sm text-gray-500 font-semibold mt-1">KW 26</p>
            </div>
        </header>

        <!-- =========== PUBLIC VIEW =========== -->
        <main id="public-view" class="flex-grow w-full">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-10">
                <div id="weather-widget" class="widget rounded-2xl p-6 flex justify-between items-center">
                    <div><h2 class="text-xl font-semibold text-gray-400">Lade Wetter...</h2><p class="text-4xl font-bold text-gray-200">-°C</p><p class="text-gray-400">-</p></div>
                    <i class="fas fa-spinner fa-spin text-6xl text-blue-300"></i>
                </div>
                <!-- ROUTENPLANER-WIDGET mit IDs -->
                <div class="widget rounded-2xl p-6">
                    <h3 class="font-bold text-lg text-white mb-3"><i class="fas fa-route mr-2"></i>Routenplaner</h3>
                    <input id="route-start" class="w-full input-field mb-2" placeholder="Start...">
                    <input id="route-destination" class="w-full input-field" placeholder="Ziel...">
                    <button id="route-start-btn" class="w-full mt-3 action-btn text-white font-bold py-2 px-4 rounded-lg">Route starten</button>
                </div>
                <div id="rss-widget" class="widget rounded-2xl p-6 md:col-span-2 lg:col-span-1"> <h3 class="font-bold text-lg text-white mb-3"><i class="fas fa-rss mr-2"></i>Tech News</h3> <ul class="text-gray-300 space-y-2 text-sm"> <li>Lade Feed...</li> </ul> </div>
            </div>
            <h3 class="text-2xl font-bold mb-6 text-gray-200 border-l-4 border-purple-500 pl-4">Öffentliche Links</h3>
            <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-5">
                <a href="https://youtube.com" target="_blank" class="tile rounded-xl p-4 flex flex-col items-center justify-center aspect-square"><i class="fab fa-youtube text-red-500 text-5xl mb-2 tile-icon"></i><span class="font-semibold text-center text-gray-200">YouTube</span></a>
                <a href="https://wikipedia.org" target="_blank" class="tile rounded-xl p-4 flex flex-col items-center justify-center aspect-square"><i class="fab fa-wikipedia-w text-gray-300 text-5xl mb-2 tile-icon"></i><span class="font-semibold text-center text-gray-200">Wikipedia</span></a>
            </div>
        </main>
        
        <!-- =========== PRIVATE (LOGGED-IN) VIEW =========== -->
        <main id="private-view" class="flex-grow w-full hidden">
            <!-- (Inhalt des privaten Bereichs bleibt unverändert) -->
        </main>

        <footer class="mt-12 text-gray-500 flex justify-between items-center w-full"> <p>Powered by <span class="font-bold">WF-Group</span></p> <button id="auth-button" class="action-btn text-white font-bold py-3 px-6 rounded-lg"> <i class="fas fa-lock mr-2"></i> Anmelden </button> </footer>
    </div>

    <!-- Modal for adding a new App -->
    <div id="add-app-modal" class="modal-overlay hidden">
        <!-- (Inhalt des Modals bleibt unverändert) -->
    </div>

    <script>
        // --- Clock & Date Logic ---
        function updateClock() { /* ... (unverändert) ... */ }
        setInterval(updateClock, 60000);
        updateClock();

        // --- View Toggling Logic ---
        function updateView() { /* ... (unverändert) ... */ }
        
        // --- Modal Logic ---
        // ... (unverändert)

        // --- API Calls & Event Listeners on Page Load ---
        document.addEventListener('DOMContentLoaded', () => {
            // RSS-Feed abrufen
            // ... (unverändert)

            // Wetter abrufen
            // ... (unverändert)

            // --- NEU: Routenplaner Logik ---
            const routeStartBtn = document.getElementById('route-start-btn');
            if (routeStartBtn) {
                routeStartBtn.addEventListener('click', () => {
                    const start = document.getElementById('route-start').value;
                    const destination = document.getElementById('route-destination').value;

                    if (!start || !destination) {
                        alert('Bitte geben Sie einen Start- und einen Zielort ein.');
                        return;
                    }

                    // Erstellt die Google Maps URL
                    const mapsUrl = `https://www.google.com/maps/dir/?api=1&origin=${encodeURIComponent(start)}&destination=${encodeURIComponent(destination)}`;
                    
                    // Öffnet die URL in einem neuen Tab
                    window.open(mapsUrl, '_blank');
                });
            }
        });

        // HILFSFUNKTIONEN (unverändert)
        function getCalendarWeek(date) { /* ... */ }
        function getWeatherIconClass(iconCode) { /* ... */ }
    </script>
</body>
</html>
